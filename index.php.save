<?php
error_reporting(E_ALL);
ini_set('display_errors', 1);

echo phpinfo();

require 'vendor/autoload.php';


use GraphAware\Neo4j\Client\ClientBuilder;

try{
	$neo4j = ClientBuilder::create()
	       	 ->addConnection('bolt', 'bolt://neo4j:p!ram1da@10.0.8.214:7687')
       		 ->build();


    $params = ['limit' => 5];
    $query = 'MATCH (m:Movie)<-[r:ACTED_IN]-(p:Person) RETURN m,r,p LIMIT {limit}';
 $query = MATCH (n:Employee) RETURN n
    $result = $neo4j->run($query, $params);


}catch(Exception $e){
	echo $e->getMessage();
}

/*

foreach ($result->getRecords() as $record)
{
    echo 'Person name is : ' . $record->value('name') . ' and has ' . count($record->value('friends')) . ' number of friends';
}
*/
echo 'loaded';
